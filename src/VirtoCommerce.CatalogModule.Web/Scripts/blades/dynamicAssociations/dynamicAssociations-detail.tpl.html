<div class="blade-static __bottom" ng-if="blade.isNew">
    <button class="btn" ng-click="saveChanges()" ng-disabled="!canSave()">{{ 'platform.commands.create' | translate }}</button>
</div>
<div class="blade-content __medium-wide">
    <div class="blade-inner">
        <div class="inner-block">
            <form class="form" name="formScope">
                <fieldset ng-init="setForm(formScope)">
                    <div class="form-group __info list">
                        <label class="form-label">{{ 'catalog.blades.dynamicAssociation-detail.labels.name' | translate }}</label>
                        <div class="form-input">
                            <input ng-model="blade.currentEntity.name" focus-on="" required ng-maxlength="128" placeholder="{{ 'catalog.blades.dynamicAssociation-detail.placeholders.name' | translate }}">
                        </div>
                        <div class="list-descr">{{ 'catalog.blades.dynamicAssociation-detail.descriptions.name' | translate }}</div>
                    </div>
                    <div class="form-group __info list">
                        <label class="form-label">{{ 'catalog.blades.dynamicAssociation-detail.labels.description' | translate }}</label>
                        <div class="form-input">
                            <textarea cols="30" rows="5" ng-model="blade.currentEntity.description"></textarea>
                        </div>
                    </div>
                </fieldset>

                <div class="form-group">
                    <ul class="list __items">
                        <li class="list-item" ng-click="mainParameters()">
                            <i class="list-ico fa fa-cogs"></i>
                            <span class="list-t">{{ 'catalog.blades.dynamicAssociation-detail.labels.main-parameters' | translate }}</span>
                            <span class="list-descr">{{ 'catalog.blades.dynamicAssociation-detail.descriptions.main-parameters' | translate: {count: filledPropertiesCount, total: totalPropertiesCount} }}</span>
                        </li>
                        <li class="list-item"
                            ng-click="createProductFilter(BlockMatchingRules)"
                            ng-class="{'__disabled': blade.currentEntity.catalogId == null}">
                            <i class="list-ico fa fa-file-text"></i>
                            <span class="list-t">{{ 'catalog.blades.dynamicAssociation-detail.labels.productsToMatch' | translate }}</span>
                            <span class="list-descr">{{ 'catalog.blades.dynamicAssociation-detail.descriptions.productsToMatch' | translate: {count: productsToMatchCount} }}</span>
                        </li>
                        <li class="list-item"
                            ng-click="createProductFilter(BlockResultingRules)"
                            ng-class="{'__disabled': !blade.isMatchingRulesExist}">
                            <i class="list-ico fa fa-file-text"></i>
                            <span class="list-t">{{ 'catalog.blades.dynamicAssociation-detail.labels.productsToDisplay' | translate }}</span>
                            <span class="list-descr">{{ 'catalog.blades.dynamicAssociation-detail.descriptions.productsToDisplay' | translate: {count: productsToDisplayCount} }}</span>
                        </li>
                        <li class="list-item"
                            ng-click="outputTuning()"
                            ng-class="{'__disabled': !blade.isResultingRulesExist || !blade.isMatchingRulesExist}">
                            <i class="list-ico fa fa-cogs"></i>
                            <span class="list-t">{{ 'catalog.blades.dynamicAssociation-detail.labels.outputTuning' | translate }}</span>
                            <span class="list-descr">{{ 'catalog.blades.dynamicAssociation-detail.descriptions.outputTuning' | translate }}</span>
                        </li>
                    </ul>
                </div>

            </form>
        </div>
    </div>
</div>
